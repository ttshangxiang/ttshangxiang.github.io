
## 前言
表格是网页中最常见的展现元素之一，我们也经常会收到一些关于表格的需求，在这里我会列出我经常收到的需求和解决办法。

### 表格边框合并
**需求：表格单元格不要有间隔。**  
默认的表格会有间距，border-collapse的默认值是separate，collapse属性则会合并边框。不懂为何要这么默认，反正我至今没看过边框需要分开的表格。
```
table {
  border-collapse: collapse;
}
```

### 合并单元格  
**需求：合并单元格。**  
在td、th上添加元素使用colspan="x"和rowspan="x"，这个单元格就会按照设置扩充，在空间上占据向右和向下的位置，在补充之后的元素时就需要默认这些地方已经有元素了。

### 表格需要边距
**需求：表格不要挨着边，需要一些间距。**  
一般的表格都会设置宽度为100%，不然会显得不好看。但是有时候又会需要边距，写100%再加padding或者margin会撑得比父窗口还大，怎么办呢？
通常就是写个div包住，在这个div上写边距。
```
<div class="table-wrap" style="padding: 12px;">
  <table>...</table>
</div>
```
或者使用css3的box-sizing: border-box;使padding的数值被包含在width的100%中间。

### 固定单元格宽度
**需求：翻页的时候，表格宽度不要变来变去。**  
table元素上有一个css属性table-layout。
它的默认值是auto，在这种模式时table总宽度根据具体每个td的宽度撑开，而每个td的宽度由最长的未折行的内容决定。所以当翻页后数据有变动，单元格宽度就会变动。
table-layout还有值为fixed，在这种模式下，单元格的宽度不会受内容的影响，需要自己设置首行的单元格(th或td)的宽度，注意是首行，如果首行不设置宽度，单元格会均分总宽度，有的设置有的不设置时，不设置的部分会撑满宽度。

### 长单词不换行   
**需求：页面有bug，有个长单词把表格撑爆了。**  
长单词和数字不会自动换行，有这种单词的时候需要使用word-break:break-all; 建议td中默认写一下，谁也不知道后端的数据会长什么样，有备无患。

### 单元格不换行
**需求：表格高度能不能不变？**  
高度不变却要显示全部内容不可能，只能是强制不换行，内容过长的单元格使用省略号。这时就要设置宽度了，使用table-layout: fixed也好，包一个div在这上面设置也好。
```
.no-wrap {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
```
这种省略了内容的元素建议把完整的内容写到标签的title属性，使用户想看完整数据时，鼠标移动到文字还能看全。

### 固定表头
**需求：能不能固定表头，我滚动到下面就不知道这一行数据是什么了，还得滚上来看。**  
原生html没有这个功能，我们只能想办法。  
方法一：表头和表体分开，写成两个表格，固定单元格宽度，使表体内容可滚动。（这样会有一个问题，就是滚动条的宽度会使单元格对不齐，这时需要使用js判断一下，如果表体有滚动条，则表头也使用overfolw-y：scroll弄出滚动条）  
方法二：先在表格上写一个空表格，设置样式绝对布局、table-layout:fixed。在内容表格加载完后，使用js复制一份表格的表头，插入空表格后，遍历两个表头同步宽度到新表格。

### 结语
我碰到的表格的需求大概就这么多，当然这只是我个人碰到的，假如有其他常见的关于表格的问题可以在评论区补充，感激不尽。
